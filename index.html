<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>School classes and activities</title>
    <link href="style/style.css" type="text/css" rel="stylesheet" />
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="vw-100 vh-100" id="body">
      <!-- Header holding navigation bar (title and checkout button) -->
      <header class="">
        <nav class="navbar navbar-expand">
          <div class="container-md">
            <h3>School classes and activities</h3>
          </div>
          <div class="container-md justify-content-end">
            <!-- Button toggles between products list and checkout  -->
            <button
              class="btn btn btn-outline-success me-2"
              type="button"
              @click="showCheckout"
            >
              <!-- Show the number of products in the cart, if there are any, don't show if 0 -->
              <b
                >{{(objectsInCart.length === 0) ? "" : objectsInCart.length}}</b
              >
              <img
                class="img-fluid"
                v-bind:src="cartIconSrc"
                v-bind:alt="cartIconAlt"
                width="50"
              />
              Checkout
            </button>
          </div>
        </nav>
      </header>

      <!-- Product list container -->
      <main class="container" id="browse" v-if="showProducts">
        <div class="row">
          <!-- Container for sorting elements (radios) -->
          <div class="col-md-1 p-5">
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="topRadios"
                id="subject"
                value="Subject"
              />
              <label class="form-check-label" for="subject"> Subject </label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="topRadios"
                id="location"
                value="Location"
              />
              <label class="form-check-label" for="location"> Location </label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="topRadios"
                id="price"
                value="Price"
              />
              <label class="form-check-label" for="price"> Price </label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="topRadios"
                id="availability"
                value="Availability"
              />
              <label class="form-check-label" for="availability">
                Availability
              </label>
            </div>

            <br />
            <br />

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="bottomRadios"
                id="ascending"
                value="Ascending"
              />
              <label class="form-check-label" for="ascending">
                Ascending
              </label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="bottomRadios"
                id="descending"
                value="Descending"
              />
              <label class="form-check-label" for="descending">
                Descending
              </label>
            </div>
          </div>

          <!-- Container for products list, scrollable -->
          <div class="col-md-10 p-3 mx-2 scroll-container">
            <div class="d-flex justify-content-center" id="club">
              <!-- Single product container -->
              <div class="row border rounded m-3 p-3 w-50">
                <!-- Icon container -->
                <div class="col-4 d-flex">
                  <img
                    class="img-fluid w-300 h-auto"
                    v-bind:src="product.imgSrc"
                    alt="Painting"
                  />
                </div>
                <!-- Lesson info container -->
                <div class="col-4">
                  <h4 v-text="product.title"></h4>
                  <p v-text="product.location"></p>
                  <p>Â£{{product.price}}</p>
                  <p>Available spaces: {{product.availability}}</p>
                </div>

                <!-- Button that adds items in the cart, disables when there are no more spaces -->
                <button
                  type="button"
                  class="btn btn-outline-primary"
                  @click="addItem"
                  :disabled="!isAvailable"
                >
                  Add to cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Checkout container -->
      <main class="container" id="checkout" v-else>
        <div class="p-3 scroll-container justify-content-center border">
          <h2>Cart</h2>
          <div class="container-fluid">
            <h4>Before you checkout:</h4>
            <div class="row m-3">
              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="First name"
                  aria-label="First name"
                  v-model.trim="order.firstName"
                />
              </div>

              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Last name"
                  aria-label="Last name"
                  v-model.trim="order.lastName"
                />
              </div>
            </div>

            <div class="row m-3">
              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Address"
                  aria-label="Address"
                  v-model.trim="order.address"
                />
              </div>

              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="City"
                  aria-label="City"
                  v-model.trim="order.city"
                />
              </div>

              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="County"
                  aria-label="County"
                  v-model.trim="order.county"
                />
              </div>

              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Postcode"
                  aria-label="Postcode"
                  v-model.trim="order.postcode"
                />
              </div>
            </div>

            <div class="row m-3">
              <div class="col">
                <input
                  class="form-control"
                  placeholder="Phone number"
                  aria-label="Phone number"
                  type="number"
                  v-model.trim="order.phoneNo"
                />
              </div>

              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="E-mail"
                  aria-label="E-mail"
                  v-model.trim="order.email"
                />
              </div>
            </div>

            <div class="container-fluid mx-5">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="personalOrBusiness"
                  id="personal"
                  value="Personal"
                  v-model.trim="order.method"
                />
                <label class="form-check-label" for="ascending">
                  Personal
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="personalOrBusiness"
                  id="business"
                  value="Business"
                  v-model.trim="order.method"
                />
                <label class="form-check-label" for="descending">
                  Business
                </label>
              </div>
            </div>
          </div>

          <div class="row m-2">
            <button type="button" class="btn btn-success">Checkout</button>
          </div>
          <div class="container-fluid mx-5">
            <h2>Order Informations</h2>
            <p>First Name: <strong>{{order.firstName}}</strong></p>
            <p>Last Name: <strong>{{order.lastName}}</strong></p>
            <p>Address: <strong>{{order.address}}</strong></p>
            <p>City: <strong>{{order.city}}</strong></p>
            <p>Postcode: <strong>{{order.postcode}}</strong></p>
            <p>County: <strong>{{order.county}}</strong></p>
            <p>Phone number: <strong>{{order.phoneNo}}</strong></p>
            <p>Email: <strong>{{order.email}}</strong></p>
            <p>Method: <strong>{{order.method}}</strong></p>
          </div>
        </div>
      </main>

      <footer class="d-flex justify-content-center fixed-bottom">
        &copy Florin Hasna
      </footer>
    </div>

    <!-- Import local JS file and Bootstrap JS -->
    <script src="script/script.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
